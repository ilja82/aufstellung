<div
  class="
    bg-white dark:bg-gray-800
    rounded-lg
    shadow-xl
    p-4 sm:p-5
    max-w-xs w-full
  "
>
  <h3
    class="
      mb-4 pb-3
      text-lg leading-6 font-medium
      text-gray-900 dark:text-gray-100
      border-b border-gray-200 dark:border-gray-700
    "
  >
    Spieler auswählen:
  </h3>

  <div
    class="
      max-h-64 mb-4 pr-2 -mr-2
      overflow-y-auto
      space-y-1.5
      custom-scrollbar
    "
  >
    <p
      *ngIf="eligiblePlayers().length === 0"
      class="
        italic
        px-1 py-2
        text-sm
        text-gray-500 dark:text-gray-400
      "
    >
      Keine passenden Spieler verfügbar.
    </p>

    <ng-container *ngFor="let player of eligiblePlayers()">
      <button
        type="button"
        (click)="selectPlayer(player.id)"
        class="
          flex justify-between items-center
          w-full text-left
          px-3 py-2.5 rounded-md
          text-sm
          transition-colors
          focus-visible:ring-2 focus-visible:ring-blue-300 dark:focus-visible:ring-blue-600
          hover:bg-blue-100 dark:hover:bg-blue-700
          focus-outline-none
          group
        "
      >
        <span
          class="
            font-medium truncate
            text-gray-800 dark:text-gray-100
            group-hover:text-blue-800 dark:group-hover:text-blue-200
          "
        >
          {{ player.name }}
        </span>

        <span
          class="
            flex-shrink-0 ml-2
            space-x-1
            text-xs
            text-gray-500 dark:text-gray-400
          "
        >
          <span
            *ngIf="player.playsGoalieWar"
            class="
              px-1 py-0.5 rounded
              text-xs font-medium
              text-red-800 dark:text-red-200
              bg-red-100 dark:bg-red-900
            "
          >
            GW
          </span>
          <span
            *ngIf="player.isStriker"
            class="
              px-1 py-0.5 rounded
              text-xs font-medium
              text-yellow-800 dark:text-yellow-200
              bg-yellow-100 dark:bg-yellow-900
            "
          >
            S
          </span>
          <span
            *ngIf="player.isGoalie"
            class="
              px-1 py-0.5 rounded
              text-xs font-medium
              text-green-800 dark:text-green-200
              bg-green-100 dark:bg-green-900
            "
          >
            T
          </span>
          <span
            *ngIf="player.likesDoubles"
            class="
              px-1 py-0.5 rounded
              text-xs font-medium
              text-purple-800 dark:text-purple-200
              bg-purple-100 dark:bg-purple-900
            "
          >
            D
          </span>
          <span
            *ngIf="player.likesSingles"
            class="
              px-1 py-0.5 rounded
              text-xs font-medium
              text-blue-800 dark:text-blue-200
              bg-blue-100 dark:bg-blue-900
            "
          >
            E
          </span>
        </span>
      </button>
    </ng-container>
  </div>

  <div class="border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2">
    <button
      *ngIf="currentAssignmentId"
      type="button"
      (click)="removeAssignment()"
      class="
        flex justify-center items-center w-full
        px-4 py-2 rounded-md
        border border-red-300 dark:border-red-600
        text-sm font-medium
        text-red-700 dark:text-red-300
        bg-white dark:bg-gray-700
        shadow-sm
        hover:bg-red-50 dark:hover:bg-red-900/50
        focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500
        focus-outline-none
      "
    >
      ❌ Spieler entfernen
    </button>
    <button
      type="button"
      (click)="cancel()"
      class="
        flex justify-center items-center w-full
        px-4 py-2 rounded-md
        border border-gray-300 dark:border-gray-500
        text-sm font-medium
        text-gray-700 dark:text-gray-200
        bg-white dark:bg-gray-600
        shadow-sm
        hover:bg-gray-50 dark:hover:bg-gray-500
        focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500
        focus-outline-none
      "
    >
      Abbrechen
    </button>
  </div>
</div>
